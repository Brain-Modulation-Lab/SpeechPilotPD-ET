function y = BroadbandGammaFilter(x)
%BROADBANDGAMMAFILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.6 and the DSP System Toolbox 9.1.
% Generated on: 15-Jun-2017 15:06:26

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 1200;  % Sampling Frequency
    %
    % Fstop1 = 45;               % First Stopband Frequency
    % Fpass1 = 50;               % First Passband Frequency
    % Fpass2 = 200;              % Second Passband Frequency
    % Fstop2 = 205;              % Second Stopband Frequency
    % Dstop1 = 0.0056234132519;  % First Stopband Attenuation
    % Dpass  = 0.057501127785;   % Passband Ripple
    % Dstop2 = 0.0056234132519;  % Second Stopband Attenuation
    % dens   = 20;               % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 1 ...
    %                           0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00296662366356535 -0.00016334131252564 ...
        -8.03362547298821e-05 0.000845214801222348 0.00255643499495642 ...
        0.00382842507856994 0.00301000629691794 -0.000478948289650886 ...
        -0.00521304163097345 -0.00841351846801043 -0.00791083739151398 ...
        -0.0038799336390002 0.00115518303307492 0.00418110192976692 ...
        0.00393153474727932 0.00166167761400592 -0.000148493522650715 ...
        3.63342134568288e-05 0.00165984060865536 0.00287174528574099 ...
        0.0023900901789571 0.00065750336422369 -0.000733937953731714 ...
        -0.000674920783158469 0.000397729895573222 0.00102271121056362 ...
        0.000233059074586584 -0.00145905304069093 -0.00259360623869694 ...
        -0.00223786452652615 -0.00091770636419961 -5.96477911474839e-05 ...
        -0.000534202124272817 -0.00177004671945175 -0.00234811998833803 ...
        -0.00145235112816751 0.000278955561916987 0.00138731230181954 ...
        0.0010574087934457 -4.60502081337564e-05 -0.000478693272624031 ...
        0.000491131177349437 0.00211481393324448 0.00287945094633898 ...
        0.00205989901275418 0.000459999341832518 -0.000382175912080213 ...
        0.000234148770058806 0.00144768035055696 0.00170328958344325 ...
        0.00036122165021502 -0.00160511131062374 -0.00255338713755871 ...
        -0.00182917020641257 -0.000439549610851743 -3.38605149973476e-05 ...
        -0.00120011278740175 -0.00282235746683375 -0.00318453775491331 ...
        -0.00172682350132265 0.000341675386830255 0.00123275619844798 ...
        0.000389764215664539 -0.000931017137228995 -0.000935954845879854 ...
        0.00084225600978808 0.00300097981999058 0.00364063306517258 ...
        0.00228937720890203 0.00041113497683403 -6.5124695575204e-05 ...
        0.00127341798064478 0.0028607505195758 0.00272671111086955 ...
        0.000536342344665968 -0.00199352384916749 -0.0027803497975778 ...
        -0.0014824644396283 0.000131487080243467 -1.46404273103409e-05 ...
        -0.00214807560413619 -0.00433217291669035 -0.00438973833101951 ...
        -0.00213485206187698 0.00038054815296432 0.000909609028367499 ...
        -0.000691818361712262 -0.00228346007067268 -0.00161575759468673 ...
        0.00131294205329766 0.00415066602191762 0.00451148194395625 ...
        0.00240200664518439 0.000253233439035063 0.000458254200434269 ...
        0.002883399856288 0.00492531103120679 0.0041300091302204 ...
        0.000748939229079751 -0.00241219321624181 -0.0027784509769653 ...
        -0.000631001782537134 0.00114077704268162 -8.7228734036667e-06 ...
        -0.00359352385516674 -0.00646039264245993 -0.00592810801414768 ...
        -0.00254936116605282 0.000369550554093369 9.83944302473137e-05 ...
        -0.00268807190567792 -0.00452098145346634 -0.0026688661494815 ...
        0.00196569233869483 0.00560253650166684 0.00533966587135035 ...
        0.00212811147110326 -0.000134473733346929 0.00141741965409663 ...
        0.00557781386679195 0.00814562019537235 0.00615982830375214 ...
        0.0010142947821609 -0.00280181034891831 -0.00220280506309731 ...
        0.00129609343775742 0.00303699380431064 -3.41719482896923e-06 ...
        -0.00594376469172714 -0.00968455602033578 -0.00800297053022875 ...
        -0.00291480375379038 0.000245499708376469 -0.00175161022958783 ...
        -0.00658593691100158 -0.00857677465803741 -0.00447371512033026 ...
        0.00300544174375274 0.00766275494517616 0.0060202443346531 ...
        0.000967938371870494 -0.00104018456356118 0.00337636902519858 ...
        0.0107759078793744 0.0140733579425479 0.00968732271538531 ...
        0.00142431354406632 -0.00310313969636445 -0.000183003686594916 ...
        0.00596817757645397 0.00724528399777863 -1.91485207625787e-06 ...
        -0.0107774845750813 -0.0160158396732933 -0.0116811473233362 ...
        -0.00317797099501996 -0.000186999593410842 -0.00671215203215312 ...
        -0.0164258438796989 -0.0185442984012412 -0.00882789359435382 ...
        0.00543155269455204 0.0121000806090952 0.00646738239700761 ...
        -0.00332166076227946 -0.00391752896528825 0.00940820056309122 ...
        0.0267359754991022 0.0323324695816852 0.0205196255309005 ...
        0.00261761973405376 -0.00327935083845467 0.00914647298009171 ...
        0.0261093489211922 0.0256571674713434 -6.5771355480936e-07 ...
        -0.0337886141388676 -0.0476605280406321 -0.0304927913312847 ...
        -0.00330511794436453 -0.00372962659790994 -0.0496001035326314 ...
        -0.113894534621832 -0.137666174342486 -0.0759465670422235 ...
        0.0594473353692158 0.198118521407601 0.256622677752216 0.198118521407601 ...
        0.0594473353692158 -0.0759465670422235 -0.137666174342486 ...
        -0.113894534621832 -0.0496001035326314 -0.00372962659790994 ...
        -0.00330511794436453 -0.0304927913312847 -0.0476605280406321 ...
        -0.0337886141388676 -6.5771355480936e-07 0.0256571674713434 ...
        0.0261093489211922 0.00914647298009171 -0.00327935083845467 ...
        0.00261761973405376 0.0205196255309005 0.0323324695816852 ...
        0.0267359754991022 0.00940820056309122 -0.00391752896528825 ...
        -0.00332166076227946 0.00646738239700761 0.0121000806090952 ...
        0.00543155269455204 -0.00882789359435382 -0.0185442984012412 ...
        -0.0164258438796989 -0.00671215203215312 -0.000186999593410842 ...
        -0.00317797099501996 -0.0116811473233362 -0.0160158396732933 ...
        -0.0107774845750813 -1.91485207625787e-06 0.00724528399777863 ...
        0.00596817757645397 -0.000183003686594916 -0.00310313969636445 ...
        0.00142431354406632 0.00968732271538531 0.0140733579425479 ...
        0.0107759078793744 0.00337636902519858 -0.00104018456356118 ...
        0.000967938371870494 0.0060202443346531 0.00766275494517616 ...
        0.00300544174375274 -0.00447371512033026 -0.00857677465803741 ...
        -0.00658593691100158 -0.00175161022958783 0.000245499708376469 ...
        -0.00291480375379038 -0.00800297053022875 -0.00968455602033578 ...
        -0.00594376469172714 -3.41719482896923e-06 0.00303699380431064 ...
        0.00129609343775742 -0.00220280506309731 -0.00280181034891831 ...
        0.0010142947821609 0.00615982830375214 0.00814562019537235 ...
        0.00557781386679195 0.00141741965409663 -0.000134473733346929 ...
        0.00212811147110326 0.00533966587135035 0.00560253650166684 ...
        0.00196569233869483 -0.0026688661494815 -0.00452098145346634 ...
        -0.00268807190567792 9.83944302473137e-05 0.000369550554093369 ...
        -0.00254936116605282 -0.00592810801414768 -0.00646039264245993 ...
        -0.00359352385516674 -8.7228734036667e-06 0.00114077704268162 ...
        -0.000631001782537134 -0.0027784509769653 -0.00241219321624181 ...
        0.000748939229079751 0.0041300091302204 0.00492531103120679 ...
        0.002883399856288 0.000458254200434269 0.000253233439035063 ...
        0.00240200664518439 0.00451148194395625 0.00415066602191762 ...
        0.00131294205329766 -0.00161575759468673 -0.00228346007067268 ...
        -0.000691818361712262 0.000909609028367499 0.00038054815296432 ...
        -0.00213485206187698 -0.00438973833101951 -0.00433217291669035 ...
        -0.00214807560413619 -1.46404273103409e-05 0.000131487080243467 ...
        -0.0014824644396283 -0.0027803497975778 -0.00199352384916749 ...
        0.000536342344665968 0.00272671111086955 0.0028607505195758 ...
        0.00127341798064478 -6.5124695575204e-05 0.00041113497683403 ...
        0.00228937720890203 0.00364063306517258 0.00300097981999058 ...
        0.00084225600978808 -0.000935954845879854 -0.000931017137228995 ...
        0.000389764215664539 0.00123275619844798 0.000341675386830255 ...
        -0.00172682350132265 -0.00318453775491331 -0.00282235746683375 ...
        -0.00120011278740175 -3.38605149973476e-05 -0.000439549610851743 ...
        -0.00182917020641257 -0.00255338713755871 -0.00160511131062374 ...
        0.00036122165021502 0.00170328958344325 0.00144768035055696 ...
        0.000234148770058806 -0.000382175912080213 0.000459999341832518 ...
        0.00205989901275418 0.00287945094633898 0.00211481393324448 ...
        0.000491131177349437 -0.000478693272624031 -4.60502081337564e-05 ...
        0.0010574087934457 0.00138731230181954 0.000278955561916987 ...
        -0.00145235112816751 -0.00234811998833803 -0.00177004671945175 ...
        -0.000534202124272817 -5.96477911474839e-05 -0.00091770636419961 ...
        -0.00223786452652615 -0.00259360623869694 -0.00145905304069093 ...
        0.000233059074586584 0.00102271121056362 0.000397729895573222 ...
        -0.000674920783158469 -0.000733937953731714 0.00065750336422369 ...
        0.0023900901789571 0.00287174528574099 0.00165984060865536 ...
        3.63342134568288e-05 -0.000148493522650715 0.00166167761400592 ...
        0.00393153474727932 0.00418110192976692 0.00115518303307492 ...
        -0.0038799336390002 -0.00791083739151398 -0.00841351846801043 ...
        -0.00521304163097345 -0.000478948289650886 0.00301000629691794 ...
        0.00382842507856994 0.00255643499495642 0.000845214801222348 ...
        -8.03362547298821e-05 -0.00016334131252564 0.00296662366356535]);
end

y = step(Hd,x);


% [EOF]
